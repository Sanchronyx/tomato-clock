<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tomato Clock</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1 class="heading">Tomato Clock 🍅</h1>

    <div id="menu-bar">
        <div class="menu-button">☰ Menu</div>
        <div class="dropdown hidden">
            <div class="dropdown-section">🌐 Language</div>
            <div class="dropdown-option" onclick="setLanguage('en')">English</div>
            <div class="dropdown-option" onclick="setLanguage('zh')">中文（繁體）</div>
        </div>
    </div>    

    <div id="pomodoro-count">Pomodoros Completed: 0</div>

    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <h2 id="modal-title">Set Timer</h2>
            <form>
              <div class="input-row">
                <label for="modal-work" id="label-work">Work (mins):</label>
                <input type="number" id="modal-work" min="1" max="999">
              </div>
              <div class="input-row">
                <label for="modal-rest" id="label-rest">Rest (mins):</label>
                <input type="number" id="modal-rest" min="1" max="999">
              </div>
            </form>
          
            <div class="modal-buttons">
              <button onclick="setTimerValues()">Start</button>
              <button onclick="closeModal()">Cancel</button>
            </div>
          </div>
          
    </div>

    <svg id="tomato-timer" width="250" height="250" viewBox="0 0 200 200" onclick="openModal()">
        <circle cx="100" cy="100" r="90" fill="#b22222" />
        <circle id="tomato-ring" cx="100" cy="100" r="90"
                fill="none" stroke="#8b0000" stroke-width="12"
                stroke-dasharray="565.48" stroke-dashoffset="0"
                transform="rotate(-90 100 100)" stroke-linecap="round" />
        <text id="timer-text" x="100" y="115" text-anchor="middle" fill="white"
              font-size="32" font-family="monospace">00:00</text>
    </svg>

    <div id="time-info">
        <p>🕒 Started: <span id="start-time">--:--</span></p>
        <p>⏳ Ends at: <span id="end-time">--:--</span></p>
    </div>
      
    <div id="controls">
        <button onclick="startTimer()">Start</button>
        <button onclick="stopTimer()">Pause</button>
        <button onclick="endTimer()">End</button>
        <button onclick="clearSavedState()">Reset Saved Session</button>
    </div>

    <script src="{{ url_for('static', filename='timer.js') }}"></script>
</body>
</html>
